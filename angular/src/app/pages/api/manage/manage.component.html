<div class="content no-grow">
    <h2>Page Info</h2>
    <div *ngIf="!org_id" class="not_mist">
        <div>Sorry, this website does not look like a Mist Dashboard...</div>
        <div>If you think I'm wrong, please send me an email with the current URL.</div>
    </div>
    <div *ngIf="org_id">
        <div class="box-ids" *ngIf="org_id" style="display: flex;flex-direction: row;align-items: center;justify-content: center;">
            <div style="flex-direction: column;display: flex;align-items: center;justify-content: center;flex-grow: 1;">
                <label class="ids" for="org_id">ORG ID</label>
                <div class=box-ids-input>
                    <input class="ids" type="text" readonly [value]="org_id" [ngClass]="focused == 'org_id'? 'focused' : ''" id="org_id" #org_id_input>
                </div>
            </div>
            <button class="copy" name="copy" (click)="copyId(org_id_input)">
                <img class="copy" src="assets/copy.svg" alt="copy">
            </button>
        </div>
        <div class="box-ids" *ngIf="site_id" style="display: flex;flex-direction: row;align-items: center;justify-content: center;">
            <div style="flex-direction: column;display: flex;align-items: center;justify-content: center;flex-grow: 1;">
                <label class="ids" for="site_id">SITE ID</label>
                <div class=box-ids-input>
                    <input class="ids" type="text" readonly [value]="site_id" [ngClass]="focused == 'site_id'? 'focused' : ''" id="site_id" #site_id_input>
                </div>
            </div>
            <button class="copy" name="copy" (click)="copyId(site_id_input)">
                <img class="copy" src="assets/copy.svg" alt="copy">
            </button>
        </div>
        <div class="box-ids" *ngIf="obj_id" style="display: flex;flex-direction: row;align-items: center;justify-content: center;">
            <div style="flex-direction: column;display: flex;align-items: center;justify-content: center;flex-grow: 1;">
                <label class="ids" for="obj_id">{{obj_name | uppercase}} ID</label>
                <div class=box-ids-input>
                    <input class="ids" type="text" readonly [value]="obj_id" [ngClass]="focused == 'obj_id'? 'focused': ''" id="obj_id" #obj_id_input>
                </div>
            </div>
            <button class="copy" name="copy" (click)="copyId(obj_id_input)">
                <img class="copy" src="assets/copy.svg" alt="copy">
            </button>
        </div>
    </div>
</div>
<div *ngIf="quick_links.length > 0" class="content no-grow">
    <h2>Quick API Access</h2>
    <div class="box-apitab">
        <button *ngFor="let quick_link of quick_links" (click)="openApiTab(quick_link.url)" class="large">
            <div style="width: 100%;">{{quick_link.name | uppercase}}</div>
            <img class="icon-open" src="assets/open.svg" alt="open">
        </button>
        <button *ngFor="let quick_action of quick_actions" (click)="openActionTab(quick_action.action)" class="large stroked">
            <div style="width: 100%;">{{quick_action.name | uppercase}}</div>            
        </button>
    </div>
</div>
<div *ngIf="missing_fields.length > 0" class="missing-fields">
    <div>
        <div style="margin-right: .2em">
            Sorry, I cannot generate the API quicklinks because I'm not able to find the
            <span *ngIf="missing_fields.length == 1">field {{missing_fields[0]}}</span>
            <span *ngIf="missing_fields.length > 1">fields {{missing_fields.slice(0, missing_fields.length -1).join(', ')}} and {{missing_fields[missing_fields.length -1]}}</span>
        </div>
    </div>
</div>

<app-ztp-password [ngClass]="{hidden: action != 'ztp_password'}" class="popup transparent" (closeActionTab)="closeActionTab()" [site_id]="site_id" [device_id]="obj_id" [device_type]="obj_name" [eventZtpPassword]="eventZtpPassword.asObservable()"></app-ztp-password>
